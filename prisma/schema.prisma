generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Student {
  id           String        @id @default(uuid())
  name         String
  className    String
  age          String
  parentName   String
  attendance   Attendance[]
  fees         Fee[]
  updates      DailyUpdate[]
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
}

model Teacher {
  id        String   @id @default(uuid())
  name      String
  subject   String
  classes   String[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Attendance {
  id        String   @id @default(uuid())
  date      DateTime @default(now())
  status    String   // PRESENT, ABSENT, LEAVE
  student   Student  @relation(fields: [studentId], references: [id])
  studentId String
}

model Fee {
  id        String   @id @default(uuid())
  amount    Float
  status    String   // PAID, PENDING
  month     String
  student   Student  @relation(fields: [studentId], references: [id])
  studentId String
  createdAt DateTime @default(now())
}

model DailyUpdate {
  id        String   @id @default(uuid())
  title     String
  content   String
  type      String   // Activity, Homework, etc.
  date      DateTime @default(now())
  student   Student? @relation(fields: [studentId], references: [id])
  studentId String?
}

model Notification {
  id        String   @id @default(uuid())
  title     String
  content   String
  type      String   // Alert, Info
  read      Boolean  @default(false)
  date      DateTime @default(now())
}
